import{C as ye,D as me,bp as we,B as Se,F as Te,aB as E,bq as Q,aU as Ee,g as v,_ as p,br as O,a as j,z as Ce,H as y,I as m,L as w,J as F,K as I,G as A,q as Fe,w as Ie,X as Ae,M as x,A as xe,aI as g,bs as Oe}from"./CLwWOwFo.js";import{w as T,C as Le,k as f,p as ke,c as De,n as b,e as B,i as Me,D as oe,q as Pe,s as Re,r as Ne,t as $,u as Be,v as ee}from"./D4TPtVWH.js";import"./DsnmJJEf.js";import{i as _e,p as h}from"./BFKXpH0O.js";function Ue(n,e,t){ye&&me();var r=new Te(n),s=!we();Se(()=>{var a=e();s&&a!==null&&typeof a=="object"&&(a={}),r.ensure(a,t)})}class Ve extends Map{#e=new Map;#t=E(0);#r=E(0);#n=Q||-1;constructor(e){if(super(),e){for(var[t,r]of e)super.set(t,r);this.#r.v=super.size}}#s(e){return Q===this.#n?E(e):Ee(e)}has(e){var t=this.#e,r=t.get(e);if(r===void 0){var s=super.get(e);if(s!==void 0)r=this.#s(0),t.set(e,r);else return v(this.#t),!1}return v(r),!0}forEach(e,t){this.#i(),super.forEach(e,t)}get(e){var t=this.#e,r=t.get(e);if(r===void 0){var s=super.get(e);if(s!==void 0)r=this.#s(0),t.set(e,r);else{v(this.#t);return}}return v(r),super.get(e)}set(e,t){var r=this.#e,s=r.get(e),a=super.get(e),i=super.set(e,t),o=this.#t;if(s===void 0)s=this.#s(0),r.set(e,s),p(this.#r,super.size),O(o);else if(a!==t){O(s);var u=o.reactions===null?null:new Set(o.reactions),c=u===null||!s.reactions?.every(d=>u.has(d));c&&O(o)}return i}delete(e){var t=this.#e,r=t.get(e),s=super.delete(e);return r!==void 0&&(t.delete(e),p(this.#r,super.size),p(r,-1),O(this.#t)),s}clear(){if(super.size!==0){super.clear();var e=this.#e;p(this.#r,0);for(var t of e.values())p(t,-1);O(this.#t),e.clear()}}#i(){v(this.#t);var e=this.#e;if(this.#r.v!==e.size){for(var t of super.keys())if(!e.has(t)){var r=this.#s(0);e.set(t,r)}}for([,r]of this.#e)v(r)}keys(){return v(this.#t),super.keys()}values(){return this.#i(),super.values()}entries(){return this.#i(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return v(this.#r),super.size}}function M(n){j(()=>()=>{n()})}function Ke(n,e){return setTimeout(e,n)}function G(n){Ce().then(n)}class ze{#e;#t=null;constructor(e){this.#e=e,M(()=>this.#r())}#r(){this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null)}run(e){this.#r();const t=this.#e.ref.current;if(t){if(typeof t.getAnimations!="function"){this.#n(e);return}this.#t=window.requestAnimationFrame(()=>{const r=t.getAnimations();if(r.length===0){this.#n(e);return}Promise.allSettled(r.map(s=>s.finished)).then(()=>{this.#n(e)})})}}#n(e){const t=()=>{e()};this.#e.afterTick?G(t):t()}}class Lt{#e;#t;#r;#n=E(!1);constructor(e){this.#e=e,p(this.#n,e.open.current,!0),this.#t=e.enabled??!0,this.#r=new ze({ref:this.#e.ref,afterTick:this.#e.open}),T(()=>this.#e.open.current,t=>{t&&p(this.#n,!0),this.#t&&this.#r.run(()=>{t===this.#e.open.current&&(this.#e.open.current||p(this.#n,!1),this.#e.onComplete?.())})})}get shouldRender(){return v(this.#n)}}function qe(n,e){var t=y(),r=m(t);Ue(r,()=>e.children,s=>{var a=y(),i=m(a);F(i,()=>e.children??I),w(s,a)}),w(n,t)}const We=new Le("BitsConfig");function je(){const n=new Ge(null,{});return We.getOr(n).opts}class Ge{opts;constructor(e,t){const r=Xe(e,t);this.opts={defaultPortalTo:r(s=>s.defaultPortalTo),defaultLocale:r(s=>s.defaultLocale)}}}function Xe(n,e){return t=>f(()=>{const s=t(e)?.current;if(s!==void 0)return s;if(n!==null)return t(n.opts)?.current})}function He(n,e){return t=>{const r=je();return f(()=>{const s=t();if(s!==void 0)return s;const a=n(r).current;return a!==void 0?a:e})}}const Ye=He(n=>n.defaultPortalTo,"body");function kt(n,e){A(e,!0);const t=Ye(()=>e.to),r=Fe();let s=Ae(a);function a(){if(!ke||e.disabled)return null;let l=null;return typeof t.current=="string"?l=document.querySelector(t.current):l=t.current,l}let i;function o(){i&&(xe(i),i=null)}T([()=>v(s),()=>e.disabled],([l,S])=>{if(!l||S){o();return}return i=Ie(qe,{target:l,props:{children:e.children},context:r}),()=>{o()}});var u=y(),c=m(u);{var d=l=>{var S=y(),P=m(S);F(P,()=>e.children??I),w(l,S)};_e(c,l=>{e.disabled&&l(d)})}w(n,u),x()}function te(n,e=500){let t=null;const r=(...s)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...s)},e)};return r.destroy=()=>{t!==null&&(clearTimeout(t),t=null)},r}function ue(n,e){return n===e||n.contains(e)}function ce(n){return n?.ownerDocument??document}function Dt(n){if(!n)return null;for(const e of n.childNodes)if(e.nodeType!==Node.COMMENT_NODE)return e;return null}function Ze(n,e){const{clientX:t,clientY:r}=n,s=e.getBoundingClientRect();return t<s.left||t>s.right||r<s.top||r>s.bottom}/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var le=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],W=le.join(","),fe=typeof Element>"u",C=fe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,U=!fe&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n?.ownerDocument},D=function(e,t){var r;t===void 0&&(t=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),a=s===""||s==="true",i=a||t&&e&&D(e.parentNode);return i},Je=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},he=function(e,t,r){if(D(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(W));return t&&C.call(e,W)&&s.unshift(e),s=s.filter(r),s},V=function(e,t,r){for(var s=[],a=Array.from(e);a.length;){var i=a.shift();if(!D(i,!1))if(i.tagName==="SLOT"){var o=i.assignedElements(),u=o.length?o:i.children,c=V(u,!0,r);r.flatten?s.push.apply(s,c):s.push({scopeParent:i,candidates:c})}else{var d=C.call(i,W);d&&r.filter(i)&&(t||!e.includes(i))&&s.push(i);var l=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),S=!D(l,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(l&&S){var P=V(l===!0?i.children:l.children,!0,r);r.flatten?s.push.apply(s,P):s.push({scopeParent:i,candidates:P})}else a.unshift.apply(a,i.children)}}return s},de=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ve=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Je(e))&&!de(e)?0:e.tabIndex},Qe=function(e,t){var r=ve(e);return r<0&&t&&!de(e)?0:r},$e=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},be=function(e){return e.tagName==="INPUT"},et=function(e){return be(e)&&e.type==="hidden"},tt=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},rt=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},nt=function(e){if(!e.name)return!0;var t=e.form||U(e),r=function(o){return t.querySelectorAll('input[type="radio"][name="'+o+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var a=rt(s,e.form);return!a||a===e},st=function(e){return be(e)&&e.type==="radio"},it=function(e){return st(e)&&!nt(e)},at=function(e){var t,r=e&&U(e),s=(t=r)===null||t===void 0?void 0:t.host,a=!1;if(r&&r!==e){var i,o,u;for(a=!!((i=s)!==null&&i!==void 0&&(o=i.ownerDocument)!==null&&o!==void 0&&o.contains(s)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!a&&s;){var c,d,l;r=U(s),s=(c=r)===null||c===void 0?void 0:c.host,a=!!((d=s)!==null&&d!==void 0&&(l=d.ownerDocument)!==null&&l!==void 0&&l.contains(s))}}return a},re=function(e){var t=e.getBoundingClientRect(),r=t.width,s=t.height;return r===0&&s===0},ot=function(e,t){var r=t.displayCheck,s=t.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var a=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!a}if(getComputedStyle(e).visibility==="hidden")return!0;var i=C.call(e,"details>summary:first-of-type"),o=i?e.parentElement:e;if(C.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof s=="function"){for(var u=e;e;){var c=e.parentElement,d=U(e);if(c&&!c.shadowRoot&&s(c)===!0)return re(e);e.assignedSlot?e=e.assignedSlot:!c&&d!==e.ownerDocument?e=d.host:e=c}e=u}if(at(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return re(e);return!1},ut=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var s=t.children.item(r);if(s.tagName==="LEGEND")return C.call(t,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}t=t.parentElement}return!1},K=function(e,t){return!(t.disabled||D(t)||et(t)||ot(t,e)||tt(t)||ut(t))},ne=function(e,t){return!(it(t)||ve(t)<0||!K(e,t))},ct=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},pe=function(e){var t=[],r=[];return e.forEach(function(s,a){var i=!!s.scopeParent,o=i?s.scopeParent:s,u=Qe(o,i),c=i?pe(s.candidates):o;u===0?i?t.push.apply(t,c):t.push(o):r.push({documentOrder:a,tabIndex:u,item:s,isScope:i,content:c})}),r.sort($e).reduce(function(s,a){return a.isScope?s.push.apply(s,a.content):s.push(a.content),s},[]).concat(t)},lt=function(e,t){t=t||{};var r;return t.getShadowRoot?r=V([e],t.includeContainer,{filter:ne.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:ct}):r=he(e,t.includeContainer,ne.bind(null,t)),pe(r)},ft=function(e,t){t=t||{};var r;return t.getShadowRoot?r=V([e],t.includeContainer,{filter:K.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=he(e,t.includeContainer,K.bind(null,t)),r},ht=le.concat("iframe").join(","),dt=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return C.call(e,ht)===!1?!1:K(t,e)};const vt="data-context-menu-trigger",bt="data-context-menu-content";De({component:"menu",parts:["trigger","content","sub-trigger","item","group","group-heading","checkbox-group","checkbox-item","radio-group","radio-item","separator","sub-content","arrow"]});globalThis.bitsDismissableLayers??=new Map;class X{static create(e){return new X(e)}opts;#e;#t;#r={pointerdown:!1};#n=!1;#s=!1;#i=void 0;#c;#a=b;constructor(e){this.opts=e,this.#t=e.interactOutsideBehavior,this.#e=e.onInteractOutside,this.#c=e.onFocusOutside,j(()=>{this.#i=ce(this.opts.ref.current)});let t=b;const r=()=>{this.#h(),globalThis.bitsDismissableLayers.delete(this),this.#o.destroy(),t()};T([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return Ke(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,this.#t),t(),t=this.#l())}),r}),M(()=>{this.#h.destroy(),globalThis.bitsDismissableLayers.delete(this),this.#o.destroy(),this.#a(),t()})}#f=e=>{e.defaultPrevented||this.opts.ref.current&&G(()=>{!this.opts.ref.current||this.#p(e.target)||e.target&&!this.#s&&this.#c.current?.(e)})};#l(){return B(g(this.#i,"pointerdown",B(this.#d,this.#b),{capture:!0}),g(this.#i,"pointerdown",B(this.#v,this.#o)),g(this.#i,"focusin",this.#f))}#u=e=>{let t=e;t.defaultPrevented&&(t=se(e)),this.#e.current(e)};#o=te(e=>{if(!this.opts.ref.current){this.#a();return}const t=this.opts.isValidEvent.current(e,this.opts.ref.current)||yt(e,this.opts.ref.current);if(!this.#n||this.#g()||!t){this.#a();return}let r=e;if(r.defaultPrevented&&(r=se(r)),this.#t.current!=="close"&&this.#t.current!=="defer-otherwise-close"){this.#a();return}e.pointerType==="touch"?(this.#a(),this.#a=g(this.#i,"click",this.#u,{once:!0})):this.#e.current(r)},10);#d=e=>{this.#r[e.type]=!0};#v=e=>{this.#r[e.type]=!1};#b=()=>{this.opts.ref.current&&(this.#n=gt(this.opts.ref.current))};#p=e=>this.opts.ref.current?ue(this.opts.ref.current,e):!1;#h=te(()=>{for(const e in this.#r)this.#r[e]=!1;this.#n=!1},20);#g(){return Object.values(this.#r).some(Boolean)}#y=()=>{this.#s=!0};#m=()=>{this.#s=!1};props={onfocuscapture:this.#y,onblurcapture:this.#m}}function pt(n=[...globalThis.bitsDismissableLayers]){return n.findLast(([e,{current:t}])=>t==="close"||t==="ignore")}function gt(n){const e=[...globalThis.bitsDismissableLayers],t=pt(e);if(t)return t[0].opts.ref.current===n;const[r]=e[0];return r.opts.ref.current===n}function yt(n,e){const t=n.target;if(!Me(t))return!1;const r=!!t.closest(`[${vt}]`);if("button"in n&&n.button>0&&!r)return!1;if("button"in n&&n.button===0&&r)return!0;const s=!!e.closest(`[${bt}]`);return r&&s?!1:ce(t).documentElement.contains(t)&&!ue(e,t)&&Ze(n,e)}function se(n){const e=n.currentTarget,t=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let s=!1;return new Proxy(r,{get:(i,o)=>o==="currentTarget"?e:o==="target"?t:o==="preventDefault"?()=>{s=!0,typeof i.preventDefault=="function"&&i.preventDefault()}:o==="defaultPrevented"?s:o in i?i[o]:n[o]})}function Mt(n,e){A(e,!0);let t=h(e,"interactOutsideBehavior",3,"close"),r=h(e,"onInteractOutside",3,b),s=h(e,"onFocusOutside",3,b),a=h(e,"isValidEvent",3,()=>!1);const i=X.create({id:f(()=>e.id),interactOutsideBehavior:f(()=>t()),onInteractOutside:f(()=>r()),enabled:f(()=>e.enabled),onFocusOutside:f(()=>s()),isValidEvent:f(()=>a()),ref:e.ref});var o=y(),u=m(o);F(u,()=>e.children??I,()=>({props:i.props})),w(n,o),x()}globalThis.bitsEscapeLayers??=new Map;class H{static create(e){return new H(e)}opts;domContext;constructor(e){this.opts=e,this.domContext=new oe(this.opts.ref);let t=b;T(()=>e.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),t=this.#e()),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}#e=()=>g(this.domContext.getDocument(),"keydown",this.#t,{passive:!1});#t=e=>{if(e.key!==Pe||!mt(this))return;const t=new KeyboardEvent(e.type,e);e.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(t)}}function mt(n){const e=[...globalThis.bitsEscapeLayers],t=e.findLast(([s,{current:a}])=>a==="close"||a==="ignore");if(t)return t[0]===n;const[r]=e[0];return r===n}function Pt(n,e){A(e,!0);let t=h(e,"escapeKeydownBehavior",3,"close"),r=h(e,"onEscapeKeydown",3,b);H.create({escapeKeydownBehavior:f(()=>t()),onEscapeKeydown:f(()=>r()),enabled:f(()=>e.enabled),ref:e.ref});var s=y(),a=m(s);F(a,()=>e.children??I),w(n,s),x()}class Y{static instance;#e=Re([]);#t=new WeakMap;#r=new WeakMap;static getInstance(){return this.instance||(this.instance=new Y),this.instance}register(e){const t=this.getActive();t&&t!==e&&t.pause();const r=document.activeElement;r&&r!==document.body&&this.#r.set(e,r),this.#e.current=this.#e.current.filter(s=>s!==e),this.#e.current.unshift(e)}unregister(e){this.#e.current=this.#e.current.filter(r=>r!==e);const t=this.getActive();t&&t.resume()}getActive(){return this.#e.current[0]}setFocusMemory(e,t){this.#t.set(e,t)}getFocusMemory(e){return this.#t.get(e)}isActiveScope(e){return this.getActive()===e}setPreFocusMemory(e,t){this.#r.set(e,t)}getPreFocusMemory(e){return this.#r.get(e)}clearPreFocusMemory(e){this.#r.delete(e)}}class Z{#e=!1;#t=null;#r=Y.getInstance();#n=[];#s;constructor(e){this.#s=e}get paused(){return this.#e}pause(){this.#e=!0}resume(){this.#e=!1}#i(){for(const e of this.#n)e();this.#n=[]}mount(e){this.#t&&this.unmount(),this.#t=e,this.#r.register(this),this.#f(),this.#c()}unmount(){this.#t&&(this.#i(),this.#a(),this.#r.unregister(this),this.#r.clearPreFocusMemory(this),this.#t=null)}#c(){if(!this.#t)return;const e=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});this.#s.onOpenAutoFocus.current(e),e.defaultPrevented||requestAnimationFrame(()=>{if(!this.#t)return;const t=this.#u();t?(t.focus(),this.#r.setFocusMemory(this,t)):this.#t.focus()})}#a(){const e=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if(this.#s.onCloseAutoFocus.current?.(e),!e.defaultPrevented){const t=this.#r.getPreFocusMemory(this);if(t&&document.contains(t))try{t.focus()}catch{document.body.focus()}}}#f(){if(!this.#t||!this.#s.trap.current)return;const e=this.#t,t=e.ownerDocument,r=i=>{if(this.#e||!this.#r.isActiveScope(this))return;const o=i.target;if(!o)return;if(e.contains(o))this.#r.setFocusMemory(this,o);else{const c=this.#r.getFocusMemory(this);if(c&&e.contains(c)&&dt(c))i.preventDefault(),c.focus();else{const d=this.#u(),l=this.#o()[0];(d||l||e).focus()}}},s=i=>{if(!this.#s.loop||this.#e||i.key!=="Tab"||!this.#r.isActiveScope(this))return;const o=this.#l();if(o.length<2)return;const u=o[0],c=o[o.length-1];!i.shiftKey&&t.activeElement===c?(i.preventDefault(),u.focus()):i.shiftKey&&t.activeElement===u&&(i.preventDefault(),c.focus())};this.#n.push(g(t,"focusin",r,{capture:!0}),g(e,"keydown",s));const a=new MutationObserver(()=>{const i=this.#r.getFocusMemory(this);if(i&&!e.contains(i)){const o=this.#u(),u=this.#o()[0],c=o||u;c?(c.focus(),this.#r.setFocusMemory(this,c)):e.focus()}});a.observe(e,{childList:!0,subtree:!0}),this.#n.push(()=>a.disconnect())}#l(){return this.#t?lt(this.#t,{includeContainer:!1,getShadowRoot:!0}):[]}#u(){return this.#l()[0]||null}#o(){return this.#t?ft(this.#t,{includeContainer:!1,getShadowRoot:!0}):[]}static use(e){let t=null;return T([()=>e.ref.current,()=>e.enabled.current],([r,s])=>{r&&s?(t||(t=new Z(e)),t.mount(r)):t&&(t.unmount(),t=null)}),M(()=>{t?.unmount()}),{get props(){return{tabindex:-1}}}}}function Rt(n,e){A(e,!0);let t=h(e,"enabled",3,!1),r=h(e,"trapFocus",3,!1),s=h(e,"loop",3,!1),a=h(e,"onCloseAutoFocus",3,b),i=h(e,"onOpenAutoFocus",3,b);const o=Z.use({enabled:f(()=>t()),trap:f(()=>r()),loop:s(),onCloseAutoFocus:f(()=>a()),onOpenAutoFocus:f(()=>i()),ref:e.ref});var u=y(),c=m(u);F(c,()=>e.focusScope??I,()=>({props:o.props})),w(n,u),x()}globalThis.bitsTextSelectionLayers??=new Map;class J{static create(e){return new J(e)}opts;domContext;#e=b;constructor(e){this.opts=e,this.domContext=new oe(e.ref);let t=b;T(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),t(),t=this.#t()),()=>{t(),this.#n(),globalThis.bitsTextSelectionLayers.delete(this)}))}#t(){return B(g(this.domContext.getDocument(),"pointerdown",this.#r),g(this.domContext.getDocument(),"pointerup",Ne(this.#n,this.opts.onPointerUp.current)))}#r=e=>{const t=this.opts.ref.current,r=e.target;!$(t)||!$(r)||!this.opts.enabled.current||!St(this)||!Be(t,r)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&(this.#e=wt(t,this.domContext.getDocument().body)))};#n=()=>{this.#e(),this.#e=b}}const ie=n=>n.style.userSelect||n.style.webkitUserSelect;function wt(n,e){const t=ie(e),r=ie(n);return R(e,"none"),R(n,"text"),()=>{R(e,t),R(n,r)}}function R(n,e){n.style.userSelect=e,n.style.webkitUserSelect=e}function St(n){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const t=e.at(-1);return t?t[0]===n:!1}function Nt(n,e){A(e,!0);let t=h(e,"preventOverflowTextSelection",3,!0),r=h(e,"onPointerDown",3,b),s=h(e,"onPointerUp",3,b);J.create({id:f(()=>e.id),onPointerDown:f(()=>r()),onPointerUp:f(()=>s()),enabled:f(()=>e.enabled&&t()),ref:e.ref});var a=y(),i=m(a);F(i,()=>e.children??I),w(n,a),x()}globalThis.bitsIdCounter??={current:0};function Tt(n="bits"){return globalThis.bitsIdCounter.current++,`${n}-${globalThis.bitsIdCounter.current}`}class Et{#e;#t=0;#r=E();#n;constructor(e){this.#e=e}#s(){this.#t-=1,this.#n&&this.#t<=0&&(this.#n(),p(this.#r,void 0),this.#n=void 0)}get(...e){return this.#t+=1,v(this.#r)===void 0&&(this.#n=Oe(()=>{p(this.#r,this.#e(...e),!0)})),j(()=>()=>{this.#s()}),v(this.#r)}}const _=new Ve;let N=E(null),z=null,L=null,k=!1;const ae=f(()=>{for(const n of _.values())if(n)return!0;return!1});let q=null;const Ct=new Et(()=>{function n(){document.body.setAttribute("style",v(N)??""),document.body.style.removeProperty("--scrollbar-width"),ee&&z?.(),p(N,null)}function e(){L!==null&&(window.clearTimeout(L),L=null)}function t(s,a){e(),k=!0,q=Date.now();const i=q,o=()=>{L=null,q===i&&(ge(_)?k=!1:(k=!1,a()))},u=s===null?24:s;L=window.setTimeout(o,u)}function r(){v(N)===null&&_.size===0&&!k&&p(N,document.body.getAttribute("style"),!0)}return T(()=>ae.current,()=>{if(!ae.current)return;r(),k=!1;const s=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,o={padding:Number.parseInt(s.paddingRight??"0",10)+a,margin:Number.parseInt(s.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${o.padding}px`,document.body.style.marginRight=`${o.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),ee&&(z=g(document,"touchmove",u=>{u.target===document.documentElement&&(u.touches.length>1||u.preventDefault())},{passive:!1})),G(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),M(()=>()=>{z?.()}),{get lockMap(){return _},resetBodyStyle:n,scheduleCleanupIfNoNewLocks:t,cancelPendingCleanup:e,ensureInitialStyleCaptured:r}});class Ft{#e=Tt();#t;#r=()=>null;#n;locked;constructor(e,t=()=>null){this.#t=e,this.#r=t,this.#n=Ct.get(),this.#n&&(this.#n.cancelPendingCleanup(),this.#n.ensureInitialStyleCaptured(),this.#n.lockMap.set(this.#e,this.#t??!1),this.locked=f(()=>this.#n.lockMap.get(this.#e)??!1,r=>this.#n.lockMap.set(this.#e,r)),M(()=>{if(this.#n.lockMap.delete(this.#e),ge(this.#n.lockMap))return;const r=this.#r();this.#n.scheduleCleanupIfNoNewLocks(r,()=>{this.#n.resetBodyStyle()})}))}}function ge(n){for(const[e,t]of n)if(t)return!0;return!1}function Bt(n,e){A(e,!0);let t=h(e,"preventScroll",3,!0),r=h(e,"restoreScrollDelay",3,null);t()&&new Ft(t(),()=>r()),x()}export{Mt as D,Pt as E,Rt as F,Lt as P,Bt as S,Nt as T,kt as a,Ke as b,G as c,Dt as g,Ue as k,M as o,Tt as u};
